---
import Card from "@/components/Card.astro";
import FormCourse from "@/components/FormCourse.astro";
import { client } from "@/api";
import Layout from "@/layouts/Layout.astro";

const courses = await client.course.list.query();
---

<Layout title="Explore">
  <main class="container mx-auto space-y-6 px-6">
    <section class="max-w-md">
      <!-- <FormCourse /> -->
      <a href="/courses/new">New Course</a>
    </section>

    <section class="">
      <ul class="flex flex-wrap gap-4">
        {
          courses.map((course) => (
            <li class="max-w-sm">
              <Card>
                <span class="text-xs uppercase leading-tight">
                  {course.category}
                </span>
                <h4 class="text-xl font-semibold">{course.title}</h4>
                <p class="text-sm text-neutral-500">{course.description}</p>
              </Card>
            </li>
          ))
        }
      </ul>
    </section>
  </main>
</Layout>
